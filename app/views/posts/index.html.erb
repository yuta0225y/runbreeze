<div class="container mx-auto px-4 py-8">
  <!-- 検索バー -->
  <div class="flex justify-center mb-4">
    <form method="get" action="<%= posts_path %>" class="w-full max-w-md">
      <div class="input-group">
        <input type="text" name="search" value="<%= params[:search] %>" placeholder="タイトルやタグなどから投稿を検索する" class="input input-bordered w-full" />
        <button type="submit" class="btn btn-primary ml-2">検索</button>
      </div>
    </form>
  </div>

  <!-- カテゴリタブ -->
  <div class="flex justify-center mb-6">
    <%= link_to 'すべて', posts_path, class: "btn btn-outline #{'btn-active' if params[:category].blank? || params[:category] == 'All'} mr-2" %>
    <% @categories.each do |category| %>
      <%= link_to category, posts_path(category: category), class: "btn btn-outline #{'btn-active' if params[:category] == category} mr-2" %>
    <% end %>    
  </div>

  <!-- 投稿一覧 -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
    <% if @posts.present? %>
    <%= render partial: 'posts/post', collection: @posts, as: :post %>
    <% else %>
      <p class="text-center">投稿がありません。</p>
    <% end %>
  </div>
</div>
