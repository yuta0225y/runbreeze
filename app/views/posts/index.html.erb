<div class="container mx-auto px-4 py-8 bg-base-100">
  <!-- 検索バー -->
  <div class="flex justify-center mb-4">
  <form method="get" action="<%= posts_path %>" class="w-full max-w-md flex items-center">
    <!-- 検索入力 -->
    <input
      type="text"
      name="search"
      value="<%= params[:search] %>"
      placeholder="検索キーワードを入力"
      class="input flex-grow bg-base-200 border-0 focus:ring-0 rounded-l-full text-gray-800 placeholder:text-gray-400"
    />
    <!-- シンプルな検索ボタン 後ほどデザイン変更 -->
    <button type="submit" class="btn bg-primary text-base-100 rounded-r-full px-4">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M16 11a5 5 0 11-10 0 5 5 0 0110 0z" />
      </svg>
    </button>
  </form>
</div>

<div class="flex justify-center mb-6 space-x-2">
  <!-- 「すべて」のリンクは左側に固定表示 -->
  <%= link_to posts_path, class: "btn rounded-full px-4 flex items-center #{params[:category].blank? || params[:category] == 'All' ? 'bg-primary text-base-100' : 'bg-accent text-base-100'}" do %>
    <!-- すべてアイコン -->
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h18M3 12h18M3 21h18" />
    </svg>
    すべて
  <% end %>  

  <!-- カテゴリーリンクをカルーセルにする -->
  <div id="carousel" class="carousel carousel-center space-x-2 w-full sm:w-4/5 md:w-3/5 lg:w-2/3 overflow-x-auto no-scrollbar">
    <% @categories.each do |category| %>
      <div class="carousel-item rounded-full"> <!-- ここに rounded-full を追加 -->
        <%= link_to posts_path(category: category[0]), class: "btn rounded-full px-4 flex items-center #{params[:category].to_s == category[0].to_s ? 'bg-primary text-base-100' : 'bg-secondary text-base-100'}" do %>
          <!-- カテゴリーアイコン（チェックマークアイコン） -->
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg>
          <%= category[1] %>
        <% end %>
      </div>
    <% end %>
  </div>
</div>

  <!-- 投稿一覧 -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
    <% if @posts.present? %>
      <%= render partial: 'posts/post', collection: @posts, as: :post %>
    <% else %>
      <p class="text-center text-neutral">投稿がありません。</p>
    <% end %>
  </div>
</div>
